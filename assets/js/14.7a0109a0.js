(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{268:function(s,t,a){"use strict";a.r(t);var n=a(19),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("正常情况下"),a("a",{attrs:{href:"https://github.com/MonoLogueChi/Danmu.Server/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载"),a("OutboundLink")],1),s._v("编译完成的版本即可，无需自己编译，可以直接看"),a("RouterLink",{attrs:{to:"/danmu/install.html"}},[s._v("安装")]),s._v("部分，如有特殊需要，请参考以下文本。")],1),s._v(" "),a("p",[s._v("Windows 环境下推荐使用 Visual Studio ， Linux 环境下可以按照下面的教程编译。")]),s._v(" "),a("p",[s._v("以下所有安装过程以 Debian10 为例，其他系统请自行判断是否需要其他步骤。")]),s._v(" "),a("h2",{attrs:{id:"开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[s._v("#")]),s._v(" 开发环境")]),s._v(" "),a("p",[s._v("参考 "),a("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/dotnet/core/install/linux-package-manager-debian10#install-the-net-core-sdk",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 .NET Core SDK"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- https://packages.microsoft.com/keys/microsoft.asc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" gpg --dearmor "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" microsoft.asc.gpg\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" microsoft.asc.gpg /etc/apt/trusted.gpg.d/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -q https://packages.microsoft.com/config/debian/10/prod.list\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" prod.list /etc/apt/sources.list.d/microsoft-prod.list\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" root:root /etc/apt/trusted.gpg.d/microsoft.asc.gpg\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" root:root /etc/apt/sources.list.d/microsoft-prod.list\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" apt-transport-https\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" dotnet-sdk-3.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("Windows 环境请参考"),a("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/dotnet/core/install/sdk?pivots=os-windows",target:"_blank",rel:"noopener noreferrer"}},[s._v("相关文档"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码"}},[s._v("#")]),s._v(" 源码")]),s._v(" "),a("p",[s._v("下载最新的 "),a("a",{attrs:{href:"https://github.com/MonoLogueChi/Danmu.Server/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[s._v("tag"),a("OutboundLink")],1),s._v("，然后解压源码")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("不要直接从 GitHub 上 Clone 源码，未进入 tag 的源码都是正在开发中的。")])]),s._v(" "),a("h2",{attrs:{id:"编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[s._v("#")]),s._v(" 编译")]),s._v(" "),a("p",[s._v("先生成静态文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /path/to/clientapp/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"编译-linux-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译-linux-版本"}},[s._v("#")]),s._v(" 编译 Linux 版本")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("dotnet publish -c Release-Linux64 -r linux-x64 --self-contained "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" --output publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"编译-windows-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译-windows-版本"}},[s._v("#")]),s._v(" 编译 Windows 版本")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("dotnet publish -c Release-Win -r win-x64 --self-contained "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" --output publish\n\ndotnet publish -c Release-Win -r win-x86 --self-contained "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" --output publish\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("编译后会在  "),a("code",[s._v("publish")]),s._v("  目录下生成二进制文件，具体参数请参考"),a("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/dotnet/core/deploying/deploy-with-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("相关文档"),a("OutboundLink")],1),s._v("，看不懂没关系，微软的文档只有看的多了才能看得懂。")]),s._v(" "),a("ClientOnly",[a("Vssue",{attrs:{title:"编译-danmu | 弹幕服务器文档"}})],1)],1)}),[],!1,null,null,null);t.default=e.exports}}]);